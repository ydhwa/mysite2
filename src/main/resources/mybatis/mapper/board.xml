<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="board">

<!-- getList(list, search)
select <필요한것들>
from board
[where title like '%[키워드]%']
order by group_no desc, order_no asc
limit <0부터시작하는시작점> <수량>;
-->
<select id="getList" resultType="boardvo" parameterType="map">
	<![CDATA[
		select b.no as no, 
			u.name as username, 
			title, 
			date_format(b.reg_date, '%Y-%m-%d %H:%i:%s') as regdate, 
			hit 
		from board b, user u 
		where 
	]]>
	<if test="keyword != ''">
		<![CDATA[
			title like '%#{ keyword }%'
			and 
		]]>
	</if>
	<![CDATA[
			b.user_no = u.no 
		order by group_no desc, order_no asc 
		limit #{ startIndex }, #{ countPerPage };
	]]>
</select>

<!-- getByNo
select b.no as no,
	u.name as username,
	title,
	contents,
	date_format(b.reg_date, '%Y-%m-%d %H:%i:%s') as regdate,
	views,
	b.user_no as userno
from board b, user u
where b.user_no = u.no
	and b.no = #{ value };
-->
<select id="getByNo" resultType="boardvo" parameterType="long">
</select>

<!-- getListSize

select count(*)
from board;
-->


<!-- insert

insert
into board
values(<잘 채워넣기 (ifnull 등등 써야함)>);
-->


<!-- update

update board
set <적당히필요한것들>
where no = [번호];
-->


<!-- delete

delete
from board
where no = [번호];
-->

</mapper>
